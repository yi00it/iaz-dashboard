<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IAZ Dashboard vs GridStack.js - Benchmark Comparison</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --bg: #f5f5f0;
        --bg-surface: #ffffff;
        --bg-dim: rgba(0, 0, 0, 0.02);
        --text: #1a1a1a;
        --text-secondary: #666666;
        --border: #e0e0e0;
        --accent: #1a1a1a;
        --accent-hover: #333333;
        --success: #2d6a4f;
        --warning: #b45309;
        --info: #1d4ed8;
        --radius: 8px;
      }

      html {
        font-size: 15px;
      }

      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        background: var(--bg);
        color: var(--text);
        line-height: 1.6;
      }

      /* Header */
      .header {
        background: var(--bg-surface);
        border-bottom: 1px solid var(--border);
        padding: 1rem 1.25rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 1rem;
      }

      .header h1 {
        font-size: 1.125rem;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        letter-spacing: -0.02em;
      }

      .header h1 a {
        color: inherit;
        text-decoration: none;
      }

      .header h1 a:hover {
        text-decoration: underline;
      }

      .header-links {
        display: flex;
        gap: 1rem;
        font-size: 0.875rem;
      }

      .header-links a {
        color: var(--text-secondary);
        text-decoration: none;
      }

      .header-links a:hover {
        color: var(--accent);
      }

      /* Main Content */
      .main {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem 1.25rem;
      }

      .intro {
        text-align: center;
        margin-bottom: 3rem;
      }

      .intro h2 {
        font-size: 1.75rem;
        font-weight: 600;
        margin-bottom: 0.75rem;
        letter-spacing: -0.02em;
      }

      .intro p {
        color: var(--text-secondary);
        max-width: 600px;
        margin: 0 auto;
      }

      /* Section */
      .section {
        margin-bottom: 3rem;
      }

      .section-title {
        font-family: 'Fira Code', monospace;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--text-secondary);
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid var(--border);
      }

      /* Cards */
      .card {
        background: var(--bg-surface);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 1.5rem;
        margin-bottom: 1rem;
      }

      .card h3 {
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 1rem;
      }

      /* Stats Grid */
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
      }

      .stat-card {
        background: var(--bg-surface);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 1.5rem;
        text-align: center;
      }

      .stat-card.highlight {
        border-color: var(--success);
        background: linear-gradient(135deg, rgba(45, 106, 79, 0.05), transparent);
      }

      .stat-label {
        font-family: 'Fira Code', monospace;
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: var(--text-secondary);
        margin-bottom: 0.5rem;
      }

      .stat-value {
        font-family: 'Fira Code', monospace;
        font-size: 2rem;
        font-weight: 600;
        color: var(--text);
        line-height: 1.2;
      }

      .stat-value.success {
        color: var(--success);
      }

      .stat-detail {
        font-size: 0.8rem;
        color: var(--text-secondary);
        margin-top: 0.25rem;
      }

      /* Comparison Table */
      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.9rem;
      }

      .comparison-table th,
      .comparison-table td {
        padding: 0.875rem 1rem;
        text-align: left;
        border-bottom: 1px solid var(--border);
      }

      .comparison-table th {
        font-family: 'Fira Code', monospace;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: var(--text-secondary);
        background: var(--bg-dim);
      }

      .comparison-table tr:hover td {
        background: var(--bg-dim);
      }

      .comparison-table .feature {
        font-weight: 500;
      }

      .check {
        color: var(--success);
        font-weight: 600;
      }

      .cross {
        color: #dc2626;
      }

      .partial {
        color: var(--warning);
      }

      /* Code Block */
      .code-comparison {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
      }

      @media (max-width: 768px) {
        .code-comparison {
          grid-template-columns: 1fr;
        }
      }

      .code-block {
        background: var(--bg-surface);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        overflow: hidden;
      }

      .code-header {
        font-family: 'Fira Code', monospace;
        font-size: 0.75rem;
        font-weight: 600;
        padding: 0.75rem 1rem;
        background: var(--bg-dim);
        border-bottom: 1px solid var(--border);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .code-header .badge {
        font-size: 0.65rem;
        padding: 0.125rem 0.5rem;
        border-radius: 3px;
        background: var(--accent);
        color: white;
      }

      .code-content {
        font-family: 'Fira Code', monospace;
        font-size: 0.8rem;
        padding: 1rem;
        overflow-x: auto;
        line-height: 1.6;
      }

      .code-content pre {
        margin: 0;
      }

      /* Performance Test */
      .perf-test {
        background: var(--bg-surface);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 1.5rem;
      }

      .perf-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .perf-header h3 {
        font-size: 1rem;
        font-weight: 600;
      }

      .btn {
        font-family: 'Fira Code', monospace;
        background: var(--accent);
        border: 1px solid var(--accent);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        font-size: 0.8rem;
        cursor: pointer;
        transition: all 0.15s ease;
        font-weight: 500;
      }

      .btn:hover {
        background: var(--accent-hover);
      }

      .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .perf-results {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-top: 1rem;
      }

      .perf-result {
        background: var(--bg-dim);
        border-radius: 4px;
        padding: 1rem;
      }

      .perf-result h4 {
        font-size: 0.8rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      .perf-result .value {
        font-family: 'Fira Code', monospace;
        font-size: 1.25rem;
        font-weight: 600;
      }

      .perf-result .value.winner {
        color: var(--success);
      }

      .perf-bar {
        height: 8px;
        background: var(--border);
        border-radius: 4px;
        margin-top: 0.5rem;
        overflow: hidden;
      }

      .perf-bar-fill {
        height: 100%;
        background: var(--accent);
        border-radius: 4px;
        transition: width 0.3s ease;
      }

      .perf-bar-fill.winner {
        background: var(--success);
      }

      /* Notes */
      .notes {
        background: var(--bg-dim);
        border-radius: var(--radius);
        padding: 1rem 1.25rem;
        font-size: 0.85rem;
        color: var(--text-secondary);
      }

      .notes strong {
        color: var(--text);
      }

      /* Footer */
      .footer {
        text-align: center;
        padding: 2rem 1.25rem;
        border-top: 1px solid var(--border);
        color: var(--text-secondary);
        font-size: 0.85rem;
      }

      .footer a {
        color: var(--accent);
        text-decoration: none;
      }

      .footer a:hover {
        text-decoration: underline;
      }

      /* Tag */
      .tag {
        display: inline-block;
        font-family: 'Fira Code', monospace;
        font-size: 0.65rem;
        padding: 0.125rem 0.5rem;
        border-radius: 3px;
        background: var(--bg-dim);
        border: 1px solid var(--border);
        color: var(--text-secondary);
        margin-left: 0.5rem;
        vertical-align: middle;
      }

      .tag.new {
        background: var(--success);
        border-color: var(--success);
        color: white;
      }
    </style>
  </head>
  <body>
    <header class="header">
      <h1>
        <a href="https://github.com/yi00it/iaz-dashboard">IAZ Dashboard</a>
        <span style="color: var(--text-secondary); font-weight: 400;">vs GridStack.js</span>
      </h1>
      <div class="header-links">
        <a href="index.html">Live Demo</a>
        <a href="https://github.com/yi00it/iaz-dashboard">GitHub</a>
        <a href="https://www.npmjs.com/package/iaz-dashboard">npm</a>
      </div>
    </header>

    <main class="main">
      <div class="intro">
        <h2>Benchmark Comparison</h2>
        <p>
          A detailed technical comparison between IAZ Dashboard and GridStack.js,
          two zero-dependency dashboard grid libraries.
        </p>
      </div>

      <!-- Bundle Size -->
      <section class="section">
        <h2 class="section-title">Bundle Size <span style="font-weight: 400; font-size: 0.65rem; text-transform: none; letter-spacing: 0;">(via <a href="https://bundlephobia.com" target="_blank" style="color: inherit;">Bundlephobia</a>)</span></h2>
        <div class="stats-grid">
          <div class="stat-card highlight">
            <div class="stat-label"><a href="https://bundlephobia.com/package/iaz-dashboard@1.5.1" target="_blank" style="color: inherit; text-decoration: none;">IAZ Dashboard</a></div>
            <div class="stat-value success">10.1 KB</div>
            <div class="stat-detail">gzipped (40.7 KB min)</div>
          </div>
          <div class="stat-card">
            <div class="stat-label"><a href="https://bundlephobia.com/package/gridstack@12.3.3" target="_blank" style="color: inherit; text-decoration: none;">GridStack.js</a></div>
            <div class="stat-value">22.7 KB</div>
            <div class="stat-detail">gzipped (83.9 KB min)</div>
          </div>
          <div class="stat-card highlight">
            <div class="stat-label">Size Difference</div>
            <div class="stat-value success">55%</div>
            <div class="stat-detail">smaller bundle</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Dependencies</div>
            <div class="stat-value">0</div>
            <div class="stat-detail">both libraries</div>
          </div>
        </div>
      </section>

      <!-- Feature Comparison -->
      <section class="section">
        <h2 class="section-title">Feature Comparison</h2>
        <div class="card" style="overflow-x: auto;">
          <table class="comparison-table">
            <thead>
              <tr>
                <th>Feature</th>
                <th>IAZ Dashboard</th>
                <th>GridStack.js</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="feature">Grid-based Layout</td>
                <td class="check">Yes</td>
                <td class="check">Yes</td>
              </tr>
              <tr>
                <td class="feature">Drag & Drop</td>
                <td class="check">Yes</td>
                <td class="check">Yes</td>
              </tr>
              <tr>
                <td class="feature">Resize Handles</td>
                <td class="check">8 directions</td>
                <td class="check">8 directions</td>
              </tr>
              <tr>
                <td class="feature">Collision Detection</td>
                <td class="check">Yes</td>
                <td class="check">Yes</td>
              </tr>
              <tr>
                <td class="feature">Auto-positioning</td>
                <td class="check">Yes</td>
                <td class="check">Yes</td>
              </tr>
              <tr>
                <td class="feature">Responsive Breakpoints</td>
                <td class="check">Yes</td>
                <td class="check">Yes</td>
              </tr>
              <tr>
                <td class="feature">Nested Grids</td>
                <td class="check">Yes <span class="tag new">v1.5</span></td>
                <td class="check">Yes (v7+)</td>
              </tr>
              <tr>
                <td class="feature">Size-to-Content (Auto Height)</td>
                <td class="check">Yes <span class="tag new">v1.5</span></td>
                <td class="check">Yes (v10+)</td>
              </tr>
              <tr>
                <td class="feature">CSS Variable Positioning</td>
                <td class="check">Yes <span class="tag new">v1.5</span></td>
                <td class="check">Yes (v12+)</td>
              </tr>
              <tr>
                <td class="feature">Float Mode (Compact)</td>
                <td class="check">Yes</td>
                <td class="check">Yes</td>
              </tr>
              <tr>
                <td class="feature">Theme System</td>
                <td class="check">6 built-in themes</td>
                <td class="partial">CSS only</td>
              </tr>
              <tr>
                <td class="feature">Plugin System</td>
                <td class="check">Yes</td>
                <td class="cross">No</td>
              </tr>
              <tr>
                <td class="feature">Custom Render Hooks</td>
                <td class="check">Yes</td>
                <td class="cross">No</td>
              </tr>
              <tr>
                <td class="feature">Touch Support</td>
                <td class="check">Yes</td>
                <td class="check">Yes</td>
              </tr>
              <tr>
                <td class="feature">TypeScript</td>
                <td class="check">Native</td>
                <td class="check">Native</td>
              </tr>
              <tr>
                <td class="feature">Framework Wrappers</td>
                <td class="partial">Framework agnostic</td>
                <td class="check">Angular, React, Vue</td>
              </tr>
              <tr>
                <td class="feature">Serialization</td>
                <td class="check">Yes</td>
                <td class="check">Yes</td>
              </tr>
              <tr>
                <td class="feature">Animation</td>
                <td class="check">CSS transitions</td>
                <td class="check">CSS transitions</td>
              </tr>
              <tr>
                <td class="feature">Widget Constraints</td>
                <td class="check">min/max W/H</td>
                <td class="check">min/max W/H</td>
              </tr>
              <tr>
                <td class="feature">Locked Widgets</td>
                <td class="check">Yes</td>
                <td class="check">Yes</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- API Comparison -->
      <section class="section">
        <h2 class="section-title">API Syntax Comparison</h2>

        <div class="code-comparison">
          <div class="code-block">
            <div class="code-header">
              IAZ Dashboard
              <span class="badge">10.1 KB</span>
            </div>
            <div class="code-content">
<pre>// Initialize
const grid = new IAZDashboard('#el', {
  columns: 12,
  rowHeight: 60
});

// Add widget
grid.addWidget({
  id: 1,
  x: 0, y: 0,
  w: 4, h: 2,
  content: 'Hello'
});

// Events
grid.on('widget:move', (w) => {});

// Edit mode
grid.setDraggable(false);
grid.setResizable(false);</pre>
            </div>
          </div>
          <div class="code-block">
            <div class="code-header">
              GridStack.js
              <span class="badge">22.6 KB</span>
            </div>
            <div class="code-content">
<pre>// Initialize
const grid = GridStack.init({
  column: 12,
  cellHeight: 60
});

// Add widget
grid.addWidget({
  id: 1,
  x: 0, y: 0,
  w: 4, h: 2,
  content: 'Hello'
});

// Events
grid.on('change', (e, items) => {});

// Edit mode
grid.enableMove(false);
grid.enableResize(false);</pre>
            </div>
          </div>
        </div>

        <div class="code-comparison" style="margin-top: 1rem;">
          <div class="code-block">
            <div class="code-header">IAZ Dashboard - Nested Grid</div>
            <div class="code-content">
<pre>grid.addWidget({
  id: 'parent',
  x: 0, y: 0, w: 8, h: 6,
  subGrid: {
    columns: 4,
    rowHeight: 40,
    widgets: [
      { id: 'child', x: 0, y: 0, w: 2, h: 2 }
    ]
  }
});

// Access sub-grid
const nested = grid.getSubGrid('parent');</pre>
            </div>
          </div>
          <div class="code-block">
            <div class="code-header">GridStack.js - Nested Grid</div>
            <div class="code-content">
<pre>grid.addWidget({
  x: 0, y: 0, w: 8, h: 6,
  subGridOpts: {
    column: 4,
    cellHeight: 40,
    children: [
      { x: 0, y: 0, w: 2, h: 2 }
    ]
  }
});

// Access via DOM traversal
const nested = el.gridstack;</pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Performance Test -->
      <section class="section">
        <h2 class="section-title">Live Performance Test</h2>
        <div class="perf-test">
          <div class="perf-header">
            <h3>Widget Creation Benchmark</h3>
            <button class="btn" id="runBenchmark">Run Benchmark</button>
          </div>
          <p style="color: var(--text-secondary); font-size: 0.85rem; margin-bottom: 1rem;">
            Creates 100 widgets programmatically and measures the time taken.
            Both libraries are loaded and tested in real-time in your browser.
          </p>
          <div class="perf-results">
            <div class="perf-result">
              <h4>IAZ Dashboard</h4>
              <div class="value" id="iazResult">--</div>
              <div class="perf-bar">
                <div class="perf-bar-fill" id="iazBar" style="width: 0%"></div>
              </div>
            </div>
            <div class="perf-result">
              <h4>GridStack.js</h4>
              <div class="value" id="gsResult">--</div>
              <div class="perf-bar">
                <div class="perf-bar-fill" id="gsBar" style="width: 0%"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="notes" style="margin-top: 1rem;">
          <strong>Note:</strong> Performance varies by browser, device, and system load.
          Both libraries are tested with animations disabled for fair comparison.
          Run multiple times for more accurate results.
        </div>
      </section>

      <!-- Technical Details -->
      <section class="section">
        <h2 class="section-title">Technical Details</h2>
        <div class="stats-grid">
          <div class="card">
            <h3>IAZ Dashboard</h3>
            <ul style="list-style: none; font-size: 0.9rem; line-height: 2;">
              <li>Target: ES2020</li>
              <li>Build: Vite + TypeScript</li>
              <li>Output: ESM + UMD</li>
              <li>CSS: Vanilla CSS</li>
              <li>Collision: O(n) sweep</li>
              <li>Positioning: CSS Variables</li>
            </ul>
          </div>
          <div class="card">
            <h3>GridStack.js</h3>
            <ul style="list-style: none; font-size: 0.9rem; line-height: 2;">
              <li>Target: ES2020</li>
              <li>Build: Custom + TypeScript</li>
              <li>Output: ESM + UMD</li>
              <li>CSS: Vanilla CSS</li>
              <li>Collision: O(n) grid engine</li>
              <li>Positioning: CSS Variables (v12+)</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- When to Choose -->
      <section class="section">
        <h2 class="section-title">When to Choose</h2>
        <div class="code-comparison">
          <div class="card">
            <h3 style="color: var(--success);">Choose IAZ Dashboard if you need:</h3>
            <ul style="font-size: 0.9rem; line-height: 2; padding-left: 1.25rem; color: var(--text-secondary);">
              <li>Smallest possible bundle size</li>
              <li>Built-in plugin system</li>
              <li>Custom rendering hooks</li>
              <li>Built-in theme system</li>
              <li>Framework-agnostic approach</li>
              <li>Simple, clean API</li>
            </ul>
          </div>
          <div class="card">
            <h3 style="color: var(--info);">Choose GridStack.js if you need:</h3>
            <ul style="font-size: 0.9rem; line-height: 2; padding-left: 1.25rem; color: var(--text-secondary);">
              <li>Official framework wrappers</li>
              <li>Larger community & ecosystem</li>
              <li>More mature codebase (since 2014)</li>
              <li>Extensive documentation</li>
              <li>Static grid variant option</li>
              <li>Angular/React/Vue bindings</li>
            </ul>
          </div>
        </div>
      </section>

    </main>

    <footer class="footer">
      <p>
        Data sources: <a href="https://bundlephobia.com/package/iaz-dashboard" target="_blank">Bundlephobia</a>,
        <a href="https://github.com/gridstack/gridstack.js" target="_blank">GridStack.js GitHub</a>
        <br>
        Last updated: November 2025
      </p>
    </footer>

    <!-- Benchmark containers -->
    <div id="benchmark-container" style="position: absolute; left: -9999px; width: 1200px; height: 2000px;">
      <div id="iaz-bench"></div>
      <div id="gs-bench" class="grid-stack"></div>
    </div>

    <!-- Load both libraries -->
    <link rel="stylesheet" href="https://esm.sh/iaz-dashboard@1.5.1/dist/iaz-dashboard.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gridstack@12.3.3/dist/gridstack.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/gridstack@12.3.3/dist/gridstack-all.js"></script>

    <script type="module">
      import { IAZDashboard } from 'https://esm.sh/iaz-dashboard@1.5.1';

      const runBtn = document.getElementById('runBenchmark');
      const iazResult = document.getElementById('iazResult');
      const gsResult = document.getElementById('gsResult');
      const iazBar = document.getElementById('iazBar');
      const gsBar = document.getElementById('gsBar');

      runBtn.addEventListener('click', async () => {
        runBtn.disabled = true;
        runBtn.textContent = 'Running...';

        // Reset display
        iazResult.textContent = '--';
        iazResult.classList.remove('winner');
        gsResult.textContent = '--';
        gsResult.classList.remove('winner');
        iazBar.style.width = '0%';
        iazBar.classList.remove('winner');
        gsBar.style.width = '0%';
        gsBar.classList.remove('winner');

        await new Promise(r => setTimeout(r, 100));

        const WIDGET_COUNT = 100;

        // ========== IAZ Dashboard Benchmark ==========
        const iazContainer = document.getElementById('iaz-bench');
        iazContainer.innerHTML = '';

        const iazStart = performance.now();

        const iazDashboard = new IAZDashboard(iazContainer, {
          columns: 12,
          rowHeight: 40,
          animate: false,
          floatMode: false
        });

        for (let i = 0; i < WIDGET_COUNT; i++) {
          iazDashboard.addWidget({
            id: `iaz-${i}`,
            w: 2 + (i % 3),
            h: 2,
            content: `Widget ${i}`
          });
        }

        const iazTime = performance.now() - iazStart;

        // Clean up IAZ
        iazDashboard.destroy();
        iazContainer.innerHTML = '';

        await new Promise(r => setTimeout(r, 50));

        // ========== GridStack Benchmark ==========
        const gsContainer = document.getElementById('gs-bench');
        gsContainer.innerHTML = '';
        gsContainer.className = 'grid-stack';

        const gsStart = performance.now();

        const gsGrid = GridStack.init({
          column: 12,
          cellHeight: 40,
          animate: false,
          float: false
        }, gsContainer);

        for (let i = 0; i < WIDGET_COUNT; i++) {
          gsGrid.addWidget({
            w: 2 + (i % 3),
            h: 2,
            content: `Widget ${i}`
          });
        }

        const gsTime = performance.now() - gsStart;

        // Clean up GridStack
        gsGrid.destroy(false);
        gsContainer.innerHTML = '';

        // ========== Display Results ==========
        iazResult.textContent = `${iazTime.toFixed(1)} ms`;
        gsResult.textContent = `${gsTime.toFixed(1)} ms`;

        const maxTime = Math.max(iazTime, gsTime);
        iazBar.style.width = `${(iazTime / maxTime) * 100}%`;
        gsBar.style.width = `${(gsTime / maxTime) * 100}%`;

        // Highlight faster one
        if (iazTime < gsTime) {
          iazResult.classList.add('winner');
          iazBar.classList.add('winner');
        } else if (gsTime < iazTime) {
          gsResult.classList.add('winner');
          gsBar.classList.add('winner');
        }

        runBtn.disabled = false;
        runBtn.textContent = 'Run Again';
      });
    </script>
  </body>
</html>
